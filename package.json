{
  "name": "video",
  "version": "0.1.0",
  "license": "MIT",
  "engines": {
    "node": "^8.4.0",
    "npm": "^5.3.0"
  },
  "dependencies": {
    "cross-env": "^5.0.5",
    "npm-run-all": "^4.0.2",
    "shx": "^0.2.2"
  },
  "scripts": {
    "install:app": "yarn install && run-p install:web install:server",
    "env": "docker-compose -f dkcp-env.yml up",
    "app": "run-p web server",
    "all": "run-p env app",

    "proxy": "cross-env NODE_ENV=production && yarn build:web && yarn proxy:light -- --build",
    "proxy:light": "docker-compose -f dkcp-env.yml -f dkcp-proxy.yml -f dkcp-server.yml up",
    
    "build:app": "run-p build:web build:server",
    "clean:app": "run-p clean:web clean:server",

    "web": "cd ./web && cross-env NODE_ENV=development PORT=3001 && yarn start",
    "server": "cd ./server && export NODE_ENV=development PORT=3000 && yarn dev",
    
    "install:web": "cd ./web && yarn install",
    "install:server": "cd ./server && yarn install",
    
    "build:web": "cd ./web && yarn build",
    "build:server": "cd ./server && yarn build",

    "clean:web": "shx rm -rf web/build",
    "clean:server": "shx rm -rf server/build"
  }
}
